!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("ng.common"),require("tslib"),require("ng.router"),require("rxjs"),require("shared"),require("ng.core")):"function"==typeof define&&define.amd?define(["ng.common","tslib","ng.router","rxjs","shared","ng.core"],e):"object"==typeof exports?exports.blog=e(require("ng.common"),require("tslib"),require("ng.router"),require("rxjs"),require("shared"),require("ng.core")):t.blog=e(t["ng.common"],t.tslib,t["ng.router"],t.rxjs,t.shared,t["ng.core"])}("undefined"!=typeof self?self:this,(function(t,e,n,i,r,o){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,(function(e){return t[e]}).bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}({0:function(t,e,n){t.exports=n("gmml")},"0S4P":function(e,n){e.exports=t},"17wl":function(t,n){t.exports=e},JAnZ:function(t,e){t.exports=n},Vgaj:function(t,e){t.exports=i},cfyg:function(t,e){t.exports=r},gmml:function(t,e,n){"use strict";n.r(e),n.d(e,"BlogModule",(function(){return S}));var i=n("0S4P"),r=n("cfyg"),o=n("JAnZ"),a=n("vOrQ"),s=n("Vgaj"),u=function(){return function(t,e){this.id=t,this.name=e,this.link=""}}(),c=function(){function t(t){this.pageTitle="Test title",this.primaryNavigationItems=[],this.secondaryNavigationItems=[],this._PrimaryNavigationObservers=[],console.log("NavigationService instance created.")}return t.prototype.ngOnDestroy=function(){console.log("NavigationService instance destroyed.")},t.prototype.getPrimaryNavigationItems=function(){var t=this,e=this;return new s.Observable((function(n){return console.log("NavigationService: getPrimaryNavigationItems"),console.log(t.primaryNavigationItems),e._PrimaryNavigationObservers.push(n),{unsubscribe:function(){console.log("NavigaionService:PrimaryNavigationItems: unsubscribed")}}}))},t.prototype.getSecondaryNavigationItems=function(){return console.log("NavigationService: getSecondaryNavigationItems"),console.log(this.secondaryNavigationItems),Object(s.of)(this.secondaryNavigationItems)},t.prototype.addPrimaryNavigationItem=function(t){for(var e in this.primaryNavigationItems.push(t),this._PrimaryNavigationObservers)console.log("publishing new PrimaryNavigation to",this._PrimaryNavigationObservers[e]),this._PrimaryNavigationObservers[e].next(this.primaryNavigationItems)},t.prototype.addSecondaryNavigationItem=function(t){this.secondaryNavigationItems.push(t)},t.prototype.setPageTitle=function(t){this.pageTitle=t},t.prototype.getPageTitle=function(){return Object(s.of)(this.pageTitle)},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](o.ActivatedRoute))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:function(e){return e?new e:function(t){if(window.navigationService)return console.log("NAVIGATIONSERVICE_FACTORY use existing object",window),window.navigationService;console.log("NAVIGATIONSERVICE_FACTORY create new object",window);var e=new c(t);return window.navigationService=e,window.navigationService}(a["\u0275\u0275inject"]([new a.Optional,new a.SkipSelf,t],12),a["\u0275\u0275inject"](o.ActivatedRoute))},providedIn:"root"}),t}(),l=function(){function t(){this.testValue="test:content",this._publishedContentObservers=[],console.log("content:constructor"),this.publishContent("")}return t.prototype.ngOnInit=function(){console.log("content.component: ngOnInit",this)},t.prototype.ngOnDestroy=function(){},t.prototype.subscribe=function(){var t=this;return new s.Observable((function(e){return t._publishedContentObservers.push(e),{unsubscribe:function(){}}}))},t.prototype.publishContent=function(t){var e={source:t,contentType:p.Markdown,content:"\n    ## Dummy heading 1\n\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vestibulum\n    mauris et magna sollicitudin, a egestas felis accumsan. Nunc enim est,\n    laoreet quis elit et, vehicula dignissim nunc. Suspendisse imperdiet, mauris\n    eget scelerisque finibus, neque velit luctus diam, eleifend rhoncus arcu\n    elit sed nibh. Sed id ullamcorper ex, sit amet efficitur nulla. Nullam\n    feugiat pretium ipsum vitae ornare. Sed congue auctor justo ac lobortis. Ut\n    eget bibendum tortor, non dapibus erat. Aliquam eleifend urna sem, ut\n    efficitur libero tristique eu. Proin malesuada ex in magna mattis, non\n    sollicitudin erat porta. Fusce molestie sagittis justo aliquet rutrum.\n\n    Aliquam convallis lectus id leo ullamcorper molestie. In tempor tempus\n    tincidunt. Ut at gravida magna. Sed facilisis pretium enim in rutrum.\n    Aliquam sit amet ex ipsum. Aliquam placerat interdum orci vitae aliquam.\n    Fusce feugiat mi vel ex dignissim imperdiet. Phasellus libero massa,\n    vehicula in est sed, lobortis tempor mi. Aliquam at mattis enim. Mauris\n    rhoncus risus quam, sed scelerisque tortor dignissim vel.\n    "};for(var n in e.content=e.content.replace("\n\n","<br/><br/>\n\n"),this.publishedContent=e,this._publishedContentObservers)console.log("publishing new Content to",this._publishedContentObservers[n]),this._publishedContentObservers[n].next(this.publishedContent)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-content"]],decls:5,vars:3,template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"span"),a["\u0275\u0275text"](1,"Content Module!"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](2,"br"),a["\u0275\u0275text"](3),a["\u0275\u0275pipe"](4,"async")),2&t&&(a["\u0275\u0275advance"](3),a["\u0275\u0275textInterpolate1"]("\n",a["\u0275\u0275pipeBind1"](4,1,e.publishedContent.content),"\n"))},pipes:[i.AsyncPipe],styles:[""]}),t}(),p=function(t){return t[t.Unknown=0]="Unknown",t[t.Markdown=1]="Markdown",t[t.Wikitext=2]="Wikitext",t[t.PlainText=3]="PlainText",t[t.Html=4]="Html",t}({}),d=n("17wl"),f=function(){function t(){}return t.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return Object(a["\u0275\u0275inject"])(m)},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)},t}(),m=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(d.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case a.SecurityContext.NONE:return e;case a.SecurityContext.HTML:return Object(a["\u0275allowSanitizationBypassAndThrow"])(e,"HTML")?Object(a["\u0275unwrapSafeValue"])(e):Object(a["\u0275_sanitizeHtml"])(this._doc,String(e));case a.SecurityContext.STYLE:return Object(a["\u0275allowSanitizationBypassAndThrow"])(e,"Style")?Object(a["\u0275unwrapSafeValue"])(e):Object(a["\u0275_sanitizeStyle"])(e);case a.SecurityContext.SCRIPT:if(Object(a["\u0275allowSanitizationBypassAndThrow"])(e,"Script"))return Object(a["\u0275unwrapSafeValue"])(e);throw new Error("unsafe value used in a script context");case a.SecurityContext.URL:return Object(a["\u0275getSanitizationBypassType"])(e),Object(a["\u0275allowSanitizationBypassAndThrow"])(e,"URL")?Object(a["\u0275unwrapSafeValue"])(e):Object(a["\u0275_sanitizeUrl"])(String(e));case a.SecurityContext.RESOURCE_URL:if(Object(a["\u0275allowSanitizationBypassAndThrow"])(e,"ResourceURL"))return Object(a["\u0275unwrapSafeValue"])(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.bypassSecurityTrustHtml=function(t){return Object(a["\u0275bypassSanitizationTrustHtml"])(t)},e.prototype.bypassSecurityTrustStyle=function(t){return Object(a["\u0275bypassSanitizationTrustStyle"])(t)},e.prototype.bypassSecurityTrustScript=function(t){return Object(a["\u0275bypassSanitizationTrustScript"])(t)},e.prototype.bypassSecurityTrustUrl=function(t){return Object(a["\u0275bypassSanitizationTrustUrl"])(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return Object(a["\u0275bypassSanitizationTrustResourceUrl"])(t)},e.\u0275prov=Object(a["\u0275\u0275defineInjectable"])({factory:function(){return t=Object(a["\u0275\u0275inject"])(a.INJECTOR),new m(t.get(i.DOCUMENT));var t},token:e,providedIn:"root"}),e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](i.DOCUMENT))},e}(f);"undefined"!=typeof window&&window;
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var b=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("Invalid safe type specified: "+e)}},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](f))},t.\u0275pipe=a["\u0275\u0275definePipe"]({name:"safe",type:t,pure:!0}),t}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function g(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"div",1),a["\u0275\u0275elementStart"](1,"div",2),a["\u0275\u0275elementStart"](2,"a",3),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](4,"div",4),a["\u0275\u0275pipe"](5,"safe"),a["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit,i=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275propertyInterpolate1"]("href"," ",i.blogMetadata[n].permaLink,"",a["\u0275\u0275sanitizeUrl"]),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](i.blogMetadata[n].title),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("innerHTML",a["\u0275\u0275pipeBind2"](5,3,i.blogMetadata[n].content,"html"),a["\u0275\u0275sanitizeHtml"])}}var y=function(){function t(t,e){this.router=e,this.testValue="test",this.blogMetadata=h,this.navigationService=t,console.log("blog:constructor");var n=new u(7,"Blog");t.addPrimaryNavigationItem(n),this.publishedContent={contentType:p.PlainText},console.log(this.blogMetadata)}return t.prototype.ngOnInit=function(){var t=this,e=function(e){n.blogMetadata[e].contentComponent=new l,n.blogMetadata[e].contentComponent.subscribe().subscribe((function(n){console.log("Subscription Updated",e,t),t.blogMetadata[e].content=n.content})),n.blogMetadata[e].contentComponent.publishContent("")},n=this;for(var i in this.blogMetadata)e(i)},t.prototype.ngOnDestroy=function(){},t.prototype.keys=function(){return console.log(Object.keys(this.blogMetadata).sort(this.dynamicSort(this.blogMetadata,"publicationDate"))),Object.keys(this.blogMetadata).sort(this.dynamicSort(this.blogMetadata,"publicationDate"))},t.prototype.dynamicSort=function(t,e){return function(n,i){return t[n][e]>t[i][e]?-1:t[n][e]<t[i][e]?1:0}},t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](c),a["\u0275\u0275directiveInject"](o.Router))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-blog"]],features:[a["\u0275\u0275ProvidersFeature"]([b])],decls:3,vars:1,consts:[["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header"],[3,"href"],[1,"card-text",3,"innerHTML"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1,"Should there be a master title here?"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](2,g,6,6,"div",0)),2&t&&(a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngForOf",e.keys()))},directives:[i.NgForOf],pipes:[b],styles:[""]}),t}(),h={"b27055f0-95b5-11ea-9735-b3fca9669169":{contentType:p.Markdown,title:"Test Blog Entry",source:"https://shaunmaher.github.io/AngularPlugableSite/data/blog/b27055f0-95b5-11ea-9735-b3fca9669169.md",publicationDate:1589441962,permaLink:"http://example.com"},"b27055f0-95b5-11ea-9735-b3fca9669170":{contentType:p.Markdown,title:"Newer Blog Entry",source:"https://shaunmaher.github.io/AngularPlugableSite/data/blog/b27055f0-95b5-11ea-9735-b3fca9669170.md",publicationDate:1589441970,permaLink:"http://example.com"}},v=function(){function t(){console.log("content.module: constructor",this)}return t.entry=l,t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.CommonModule,r.SharedModule]]}),t}(),S=function(){function t(){console.log("blog.module: constructor",this)}return t.entry=y,t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[i.CommonModule,r.SharedModule,v]]}),t}();e.default=S},vOrQ:function(t,e){t.exports=o}})}));